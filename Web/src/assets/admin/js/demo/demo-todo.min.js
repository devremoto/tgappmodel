function appendTask(a,b,c){if(""!=b){var d="<li><label class='option block'><input type='checkbox' class='toggle' "+(c?"checked":"")+"><span class='checkbox checkbox-thin'></span><label "+(c?'data="done" class="done"':"")+">"+b+"</label><a class='destroy'></a></label></li>";$("#todonew").val(""),$elements++,$(a).append(d),updateCount()}}function todoRemove(){$(".destroy").on("click",function(a){currentElement=$(this).closest("li"),currentElement.remove(),$elements--,updateCount()})}function todoToggle(){$(".toggle").on("click",function(a){var b=$(this).closest("li").find("label");"done"==b.attr("data")?(b.attr("data",""),b.removeClass("done")):(b.attr("data","done"),b.addClass("done"))})}function updateCount(){$("#todocount").html($elements)}$(document).ready(function(){$elements=0,appendTask("#todolist","Create new template",!1),appendTask("#todolist","Reply user emails",!1),appendTask("#todolist","Check server status",!1),appendTask("#todolist","Lorem ipsum dolor sit amet",!1),appendTask("#todolist","Morbi non luctus nulla",!1),appendTask("#oldtodolist","Lorem ipsum dolor sit amet",!1),appendTask("#oldtodolist","Morbi non luctus nulla",!0),appendTask("#oldtodolist","Duis a blandit justo",!0),appendTask("#oldtodolist","LorVestibulum sit amet eleifend sem",!1),appendTask("#oldtodolist","Pellentesque habitant morbi tristique",!1),$("#todonew").keypress(function(a){13===a.which&&($(".destroy").off("click"),$(".toggle").off("click"),appendTask("#todolist",$(this).val(),!1)),todoToggle(),todoRemove()}),$("#addtask").click(function(){appendTask("#todolist",$("#todonew").val(),!1)}),updateCount(),todoToggle(),todoRemove()}),$.fn.isBound=function(a,b){var c=this.data("events")[a];return void 0===c||0===c.length?!1:-1!==$.inArray(b,c)},$(function(){$(".sortable").sortable({items:"li:not(.header)"})});